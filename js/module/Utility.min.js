class ChainNode{constructor(fn,args){this.fn=fn||null,this.args=args||null,this.prev=null,this.next=null}}class ClassChain{constructor(){this.head=null,this.tail=null,this.count=0}do(fn,args){const node=new ChainNode(fn,args);return node.prev=this.tail,this.head?this.tail.next=node:this.head=node,this.tail=node,this.count++,this}invoke(){let cur=this.head;cur&&cur.fn&&(cur.fn=cur.fn.bind(this,cur.args),cur.fn((error,data)=>{error?console.log(error):console.log(data),cur.next&&(this.head=this.head.next,this.invoke())}))}}exports={ClassChain:ClassChain};